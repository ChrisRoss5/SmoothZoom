<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../popup/popup.css" />
    <link rel="stylesheet" href="../inject/style.css" />
    <link rel="stylesheet" href="welcome.css" />
    <title>SmoothZoom</title>
  </head>
  <body>
    <div id="overlay">
      <div id="installed">
        <strong>SmoothZoom installed!</strong>
        Refresh already open tabs or restart the browser for changes to take
        effect.
        <button>I understand</button>
      </div>
      <div id="author">
        <strong>
          Hi! I'm a solo developer of SmoothZoom browser extension.
        </strong>
        <hr />
        Here's a list of issues that cannot be solved with current browser
        technology:
        <ul>
          <li>
            <strong>&lt;iframe> elements (nested browsing contexts).</strong>
            The extension code (content-script) is injected into all frames.
            When you zoom inside a frame, its parent frame cannot know your
            cursor position. However, if you zoom inside the parent frame, the
            extension disables pointer events from all child frames, so that the
            parent frame can always know your cursor position.
          </li>
          <li>
            <strong>Toggling JavaScript.</strong>
            It is possible to toggle Javascript with
            <a
              href="https://developer.chrome.com/docs/extensions/reference/contentSettings/"
              >Content Settings API</a
            >. However, it is not possible to do so without reloading the page.
            Another problem is that the API toggles JavaScript for ALL pages
            that match the given location origin. DevTools Debugger has the
            option to toggle JavaScript instantly, per tab, but there is no way
            to access it programmatically. Zooming with temporarily disabled
            JavaScript prevents potential content adjusting and could improve
            performance significantly.
          </li>
          <li></li>
        </ul>
        If you found a solution to any of these issues, contact me:
        <a href="mailto:kristijan.ros@gmail.com">kristijan.ros@gmail.com</a>
        <button>Close</button>
      </div>
    </div>

    <div id="secret">Secret Button! (click me)</div>

    <div id="box">
      <div id="welcome">
        Welcome to SmoothZoom!
        <br /><br />
        You can access this page anytime by clicking on the SmoothZoom title
        from the popup.
        <br />
        Next to this text is the identical version of the popup, which can be
        accessed by clicking on the extension icon:
        <img src="../img/icon-128.png" />
        <br />
        Use it to find settings that suit you best. They automatically sync to
        your browser account.
        <br />
        For low-end PCs or heavy websites, try making these changes in the
        following order:
        <ul>
          <li>Uncheck <span>Always follow cursor</span></li>
          <li>Check <span>Disable interactivity</span></li>
          <!-- <li>Check <span>Disable JavaScript</span></li> -->
          <li>Reduce <span>Smoothness</span> to 0ms</li>
          <li>Check <span>Use screenshot</span></li>
        </ul>
        Start by experiencing SmoothZoom on this page!
      </div>

      <div id="popup">
        <a id="title" class="bright" target="_blank">
          <img src="../img/smooth-zoom-hq.png" />
        </a>

        <div id="content">
          <div id="keys">
            <label>
              <input tabindex="-1" type="radio" name="key" key="rightClick" />
              RClick
            </label>
            <label>
              <input tabindex="-1" type="radio" name="key" key="altKey" />
              Alt
            </label>
            <label>
              <input tabindex="-1" type="radio" name="key" key="ctrlKey" />
              Ctrl
            </label>
            <label>
              <input tabindex="-1" type="radio" name="key" key="shiftKey" />
              Shift
            </label>
            <div class="info">
              Choose a key, hold it, and use mousewheel to zoom. Default: Right
              Mouse Click (RClick)
            </div>
          </div>

          <div class="line"></div>

          <div id="options">
            <label>
              Hold to zoom:
              <input tabindex="-1" type="checkbox" key="holdToZoom" />
              <div class="info">
                When disabled or in fullscreen video/element, use the chosen key
                again to exit zoom.
              </div>
            </label>
            <label>
              Always follow cursor:
              <input tabindex="-1" type="checkbox" key="alwaysFollowCursor" />
              <div class="info">
                Allows a viewport to always follow the mouse cursor while in
                zoom.
              </div>
            </label>
            <label>
              Disable interactivity:
              <input tabindex="-1" type="checkbox" key="disableInteractivity" />
              <div class="info">
                Disables website interactivity (CSS pointer-events) while in
                zoom.
              </div>
            </label>
            <!-- <label>
              Disable JavaScript:
              <input tabindex="-1" type="checkbox" key="disableJavascript" />
              <div class="info">
                Disables website JavaScript while in zoom.<br />This prevents
                potential content adjusting.
              </div>
            </label> -->
            <label>
              Use screenshot:
              <input tabindex="-1" type="checkbox" key="useScreenshot" />
              <div class="info">
                Takes a screenshot of a website, moment before it starts zooming
                into it.
              </div>
            </label>
          </div>

          <div class="line"></div>

          <label id="strength">
            <div>Strength:</div>
            <input
              tabindex="-1"
              type="range"
              min="0"
              max="1"
              value="0.5"
              step="any"
              key="strength"
            />
            <div class="info">
              Current multiplier:
              <div id="strength-value">1.00</div>
              Minimum: 1.25 Maximum: 5
            </div>
          </label>
          <label id="transition">
            <div>Smoothness:</div>
            <input
              tabindex="-1"
              type="range"
              min="0"
              max="400"
              value="200"
              step="any"
              key="transition"
            />
            <div class="info">
              Current duration:
              <div id="transition-value">200ms</div>
              Minimum: 0 Maximum: 400
            </div>
          </label>
        </div>

        <a id="review" class="row bright" target="_blank">
          <img src="../img/cws-logo.png" />
          &nbsp;Write a review&nbsp;&nbsp;★★★★★
        </a>
      </div>
    </div>

    <script src="./welcome.js"></script>
    <script src="../popup/popup.js"></script>
    <script src="../inject/content-script.js"></script>
  </body>
</html>
